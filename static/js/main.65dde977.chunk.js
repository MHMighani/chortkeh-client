(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{194:function(e,t,n){e.exports=n(414)},413:function(e,t,n){},414:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),o=n.n(c),l=n(10),u=n(9),i=n(164),s=n(36),p=n(11),m=n(16),d=n(14),b=n(12),y=n(15),v=n(20),f=n(159),E=n(162),h=n(160),O=n(105),S=n(17),j=n.n(S),w=n(43),T=n(29),g=n(107),k=n.n(g),N=function(){var e=Object(T.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://currency.jafari.pw/json",e.next=3,k.a.get("https://currency.jafari.pw/json");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(T.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.coindesk.com/v1/bpi/currentprice.json",e.next=3,k.a.get("https://api.coindesk.com/v1/bpi/currentprice.json");case 3:return t=e.sent,e.abrupt("return",t.data.bpi);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){return function(){var e=Object(T.a)(j.a.mark((function e(t){var n,a,r,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:return n=e.sent,e.next=5,C();case 5:a=e.sent,r=parseInt(a.USD.rate_float),c={Crypto:[{Currency:"BitCoin",Buy:r}]},o=Object(w.a)({},n,{},c),t({type:"GET_DAY_PRICE",payload:o});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(T.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"ADD_TO_INVENTORY",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=n(55),B=function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0},P=function(e){var t,n=e.subSource,a=e.amount,c=0,o=Object(l.c)((function(e){return e.allTodayPrices}));return n&&(c=o[n].Buy),t=c*a,r.a.createElement("div",{id:"calculator",className:"form-section"},r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("span",null,"\u0642\u06cc\u0645\u062a \u0631\u0648\u0632"),r.a.createElement("span",null,B(c))),r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-times"}))),r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("span",null,"\u062a\u0639\u062f\u0627\u062f"),r.a.createElement("span",null,B(a))),r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("hr",null)),r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("span",null,"\u0642\u06cc\u0645\u062a \u06a9\u0644"),r.a.createElement("span",null,B(t))))},_=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).getSelectOptions=function(e){return e.map((function(e,t){return r.a.createElement("option",{key:t,value:e},n.props.labelTranslations[e])}))},n.renderSelector=function(e){var t=e.input,a=e.label,c=e.meta,o=e.options;return r.a.createElement("div",{className:"col-wrapper"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("select",Object.assign({type:"select"},t),o),r.a.createElement("label",null,a)),n.renderError(c))},n.renderInput=function(e){var t=e.input,a=e.label,c=e.meta;return r.a.createElement("div",{className:"col-wrapper"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",Object.assign({min:"0",type:"number"},t)),r.a.createElement("label",null,a)),n.renderError(c))},n.renderSubSourceLabel=function(e){return"others"===e?"\u0645\u0646\u0628\u0639":e?n.props.labelTranslations[e]:""},n}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getDayPrice()}},{key:"renderError",value:function(e){var t=e.error,n=e.touched;if(t&&n)return r.a.createElement("div",{className:"error-wraper"},t)}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.mainSource,a=e.subSource,c=e.amount,o=[""].concat(Object(v.a)(Object.keys(this.props.inventoryLabels))),l=n?[""].concat(Object(v.a)(this.props.inventoryLabels[n])):[""];return r.a.createElement("form",{onSubmit:t(this.props.onSubmit)},r.a.createElement("div",{className:"form-section"},r.a.createElement(f.a,{name:"mainSource",label:"\u0646\u0648\u0639 \u0645\u0646\u0628\u0639",component:this.renderSelector,options:this.getSelectOptions(o)}),r.a.createElement(f.a,{name:"subSource",label:"\u0646\u0648\u0639 ".concat(this.renderSubSourceLabel(n)),component:this.renderSelector,options:this.getSelectOptions(l)}),r.a.createElement(f.a,{name:"amount",label:"\u0645\u0642\u062f\u0627\u0631",component:this.renderInput})),r.a.createElement(P,{subSource:a,amount:c}),r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement("button",{className:"button",id:"submit-btn",type:"submit"},"\u062a\u0627\u06cc\u06cc\u062f"),r.a.createElement(D.a,{className:"button",to:"".concat("/chortkeh-client"),id:"return-btn"},"\u0628\u0627\u0632\u06af\u0634\u062a")))}}]),t}(a.Component),A=Object(E.a)("addInventoryForm"),x=Object(h.a)({form:"addInventoryForm",validate:function(e){var t={};return e.mainSource?e.subSource?parseInt(e.amount)||(t.amount="\u0644\u0637\u0641\u0627 \u0645\u0642\u062f\u0627\u0631 \u062f\u0627\u0631\u0627\u06cc\u06cc \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"):t.subSource="\u0644\u0637\u0641\u0627 \u0645\u0646\u0628\u0639 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f":t.mainSource="\u0644\u0637\u0641\u0627 \u0645\u0646\u0628\u0639 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f",t}})(Object(l.b)((function(e){return{inventoryLabels:e.inventoryLabels,labelTranslations:e.labelTranslations,mainSource:A(e,"mainSource"),subSource:A(e,"subSource"),amount:A(e,"amount")}}),{addToInventory:L,getDayPrice:I,change:O.a})(_)),R=n(169),F=(n(321),function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){n.props.addToInventory(e),R.a.notify("\u0628\u0647 \u062f\u0627\u0631\u0627\u06cc\u06cc \u0627\u0636\u0627\u0641\u0647 \u0634\u062f",{duration:2e3})},n}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-page"},r.a.createElement(x,{onSubmit:this.handleSubmit,initialValues:{amount:0,mainSource:"",subSource:""}}))}}]),t}(a.Component)),z=Object(l.b)(null,{addToInventory:L})(F),V=function(){return r.a.createElement("div",{id:"no-inventory-warning"},r.a.createElement("p",null,"!\u0647\u0646\u0648\u0632 \u0686\u06cc\u0632\u06cc \u0628\u0647 \u062f\u0627\u0631\u0627\u06cc\u06cc \u0627\u0636\u0627\u0641\u0647 \u0646\u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f"))},Y=function(e){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"\u0645\u0646\u0628\u0639"),r.a.createElement("th",{scope:"col"},"\u062a\u0639\u062f\u0627\u062f"),r.a.createElement("th",{scope:"col"},"\u0642\u06cc\u0645\u062a \u0631\u0648\u0632"),r.a.createElement("th",{scope:"col"},"\u0642\u06cc\u0645\u062a \u06a9\u0644")))},G=Object(l.b)((function(e){return{inventory:e.inventoryList,todayPrices:e.allTodayPrices,labelTranslations:e.labelTranslations}}),{deleteFromInventory:function(e){return function(){var t=Object(T.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"DELETE_FROM_INVENTORY",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.inventory.map((function(t,n){var a=e.labelTranslations,c=e.todayPrices,o=(e.deleteFromInventory,t.subSource),l=t.amount,u=c[o].Buy;return r.a.createElement("tr",{key:n},r.a.createElement("th",{scope:"row",className:"row-num"},n+1),r.a.createElement("td",null,a[o]),r.a.createElement("td",null,B(l)),r.a.createElement("td",null,B(u)),r.a.createElement("td",null,B(parseInt(l)*u)))}));return r.a.createElement("tbody",null,t)})),M=function(){var e=Object(l.c)((function(e){return e.allTodayPrices})),t=Object(l.c)((function(e){return e.inventoryList})).reduce((function(t,n){return t+e[n.subSource].Buy*n.amount}),0);return r.a.createElement("span",null,B(t))},U=function(){return r.a.createElement("table",null,r.a.createElement(Y,null),r.a.createElement(G,null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"all-value",colSpan:"2"},M()))))},J=n(79),X=n(168),q=n.n(X),W=function(e){var t={labels:e.inventoryList.map((function(t){return e.labelTranslations[t.subSource]})),datasets:[{label:"# of Votes",data:e.inventoryList.map((function(t){return parseInt(e.allTodayPrices[t.subSource].Buy)*parseInt(t.amount)})),backgroundColor:q()({count:6}),borderWidth:1}]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{data:t,options:{maintainAspectRatio:!1,legend:{labels:{fontSize:22}}}}))},H=Object(l.b)((function(e){return{allTodayPrices:e.allTodayPrices,inventoryList:e.inventoryList,labelTranslations:e.labelTranslations}}),{})((function(e){return e.inventoryList.length?r.a.createElement("div",{className:"chart-page"},r.a.createElement("div",{className:"chart-container"},r.a.createElement(W,{allTodayPrices:e.allTodayPrices,inventoryList:e.inventoryList,labelTranslations:e.labelTranslations}))):null})),K=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).renderContent=function(){return n.props.inventoryList.length?r.a.createElement(U,null):r.a.createElement(V,null)},n}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(T.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.getDayPrice();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"inventory-page"},this.renderContent(),r.a.createElement(D.a,{id:"addInventoryLink",to:"/chortkeh-client/addInventory"},"\u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u062f\u0627\u0631\u0627\u06cc\u06cc")),r.a.createElement(H,null))}}]),t}(a.Component),Q=Object(l.b)((function(e){return{inventoryList:e.inventoryList}}),{getDayPrice:I})(K),Z=n(18),$=Object(Z.a)();n(413);var ee=n(161),te=n(81),ne=n.n(te),ae=Object(u.c)({form:ee.a,inventoryLabels:function(){return{Gold:["1 Emami","1 Old Azadi","1/2 Azadi","1/4 Azadi"],Currency:["US Dollar","Euro","British Pound","Canadian Dollar"],Crypto:["BitCoin"],others:["stock"]}},labelTranslations:function(){return{Gold:"\u0633\u06a9\u0647","1 Emami":"\u062a\u0645\u0627\u0645 \u0633\u06a9\u0647","1 Old Azadi":"\u062a\u0645\u0627\u0645 \u0633\u06a9\u0647 \u0637\u0631\u062d \u0642\u062f\u06cc\u0645","1/2 Azadi":"\u0646\u06cc\u0645 \u0633\u06a9\u0647","1/4 Azadi":"\u0631\u0628\u0639 \u0633\u06a9\u0647",Currency:"\u0627\u0631\u0632","US Dollar":"\u062f\u0644\u0627\u0631 \u0622\u0645\u0631\u06cc\u06a9\u0627",Euro:"\u06cc\u0648\u0631\u0648","British Pound":"\u067e\u0648\u0646\u062f \u0627\u0646\u06af\u0644\u06cc\u0633","Canadian Dollar":"\u062f\u0644\u0627\u0631 \u06a9\u0627\u0646\u0627\u062f\u0627",Crypto:"\u0627\u0631\u0632 \u062f\u06cc\u062c\u06cc\u062a\u0627\u0644",BitCoin:"\u0628\u06cc\u062a \u06a9\u0648\u06cc\u0646",others:"\u062f\u06cc\u06af\u0631 \u0645\u0646\u0627\u0628\u0639",stock:"\u0628\u0648\u0631\u0633"}},allTodayPrices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stock:{Buy:1}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DAY_PRICE":var n=ne.a.keyBy(t.payload.Currency,"Currency"),a=ne.a.keyBy(t.payload.Gold,"Coin"),r=ne.a.keyBy(t.payload.Crypto,"Currency");r.BitCoin.Buy=r.BitCoin.Buy*n["US Dollar"].Buy;var c=Object(w.a)({},e,{},n,{},a,{},r);return c;default:return e}},inventoryList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_INVENTORY":var n=e.find((function(e){return e.subSource===t.payload.subSource}));return n?e.map((function(e){return e.subSource===n.subSource?Object(w.a)({},e,{amount:t.payload.amount}):e})):[].concat(Object(v.a)(e),[t.payload]);case"DELETE_FROM_INVENTORY":var a=e.filter((function(e){return e.subSource!==t.payload}));return a;default:return e}}}),re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,ce=Object(u.e)(ae,re(Object(u.a)(i.a)));o.a.render(r.a.createElement(l.a,{store:ce},r.a.createElement((function(){return r.a.createElement("div",{id:"app"},r.a.createElement(s.b,{history:$},r.a.createElement(s.a,{exact:!0,path:"/chortkeh-client/",component:Q}),r.a.createElement(s.a,{exact:!0,path:"/chortkeh-client/addInventory",component:z})))}),null)),document.querySelector("#root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.65dde977.chunk.js.map