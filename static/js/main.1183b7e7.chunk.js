(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{198:function(e,t,n){e.exports=n(428)},326:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},330:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},425:function(e,t,n){},426:function(e,t,n){},427:function(e,t,n){},428:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(27),o=n.n(c),l=n(9),u=n(10),i=n(167),s=n(38),m=n(11),p=n(15),d=n(13),b=n(12),y=n(14),f=n(44),v=n(19),E=n(162),h=n(165),O=n(163),S=n(16),j=n.n(S),w=n(23),g=n(28),N=n(111),k=n.n(N),C=function(){var e=Object(g.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://currency.jafari.pw/json",e.next=3,k.a.get("https://currency.jafari.pw/json");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(g.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.coindesk.com/v1/bpi/currentprice.json",e.next=3,k.a.get("https://api.coindesk.com/v1/bpi/currentprice.json");case 3:return t=e.sent,e.abrupt("return",t.data.bpi);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=n(20),I=Object(D.a)(),L=function(){return function(){var e=Object(g.a)(j.a.mark((function e(t){var n,a,r,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return n=e.sent,e.next=5,T();case 5:a=e.sent,r=parseInt(a.USD.rate_float),c={Crypto:[{Currency:"BitCoin",Buy:r}]},o=Object(w.a)({},n,{},c),t({type:"GET_DAY_PRICE",payload:o});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=n(45),P=n(59),A=function(e){var t=e.error,n=e.touched;return t&&n?r.a.createElement("div",{className:"error-wraper"},t):null},B=function(e){var t=e.input,n=e.label,a=e.meta,c=e.type,o=void 0===c?"text":c;return r.a.createElement("div",{className:"col-wrapper"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",Object.assign({min:"0",type:o},t)),r.a.createElement("label",null,n)),r.a.createElement(A,{error:a.error,touched:a.touched}))},x=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){console.log("ssss"),n.props.addNewSource(e)},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.handleSubmit;return r.a.createElement("form",{onSubmit:e(this.onSubmit)},r.a.createElement("div",{className:"addsource-form"},r.a.createElement(E.a,{name:"newSourceName",label:"\u0646\u0627\u0645 \u0645\u0646\u0628\u0639 \u062c\u062f\u06cc\u062f",component:B}),r.a.createElement(E.a,{name:"newSourceValue",type:"number",label:"\u0627\u0631\u0632\u0634",component:B}),r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement("button",{className:"button"},"\u062a\u0627\u06cc\u06cc\u062f"))))}}]),t}(r.a.Component),R=Object(O.a)({form:"AddSourceForm",validate:function(e){var t={};return e.newSourceName?e.newSourceValue||(t.newSourceValue="\u0644\u0637\u0641\u0627 \u0627\u0631\u0632\u0634 \u0645\u0646\u0628\u0639 \u062c\u062f\u06cc\u062f \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"):t.newSourceName="\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0645\u0646\u0628\u0639 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f",t}})(Object(l.b)(null,{addNewSource:function(e){return function(){var t=Object(g.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"ADD_SOURCE",payload:e}),I.push("".concat("/chortkeh-client"));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(x)),F=function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0},V=(n(326),function(e){var t,n=e.subSource,a=e.amount,c=0,o=Object(l.c)((function(e){return e.allTodayPrices}));return n&&(c=o[n].Buy),t=c*a,r.a.createElement("div",{id:"calculator",className:"form-section"},r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("span",null,"\u0642\u06cc\u0645\u062a \u0631\u0648\u0632"),r.a.createElement("span",null,F(c))),r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("div",null,r.a.createElement(_.a,{icon:"times"}))),r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("span",null,"\u062a\u0639\u062f\u0627\u062f"),r.a.createElement("span",null,F(a))),r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("hr",null)),r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("span",null,"\u0642\u06cc\u0645\u062a \u06a9\u0644"),r.a.createElement("span",null,F(t))))}),U=n(63),z=function(){var e=Object(a.useState)(!1),t=Object(U.a)(e,2),n=t[0],r=t[1];return{isShowing:n,toggle:function(){r(!n)}}},Y=(n(327),function(e){var t=e.isShowing,n=e.hide,a=e.children;return t?o.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-overlay"}),r.a.createElement("div",{className:"modal-wrapper",onClick:n,"aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog"},r.a.createElement("div",{className:"modal",onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"modal-header"},r.a.createElement("button",{type:"button",className:"modal-close-button","data-dismiss":"modal","aria-label":"Close",onClick:n},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),a))),document.body):null}),G=(n(328),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).getSelectOptions=function(e){return e.map((function(e,t){return r.a.createElement("option",{key:t,value:e},n.props.labelTranslations[e])}))},n.renderSelector=function(e){var t,a=e.input,c=e.label,o=e.meta,l=e.options,u=z(),i=u.isShowing,s=u.toggle;return"others"===n.props.mainSource&&"subSource"===a.name&&(t=r.a.createElement("button",{id:"add-source-btn",className:"button",onClick:s},r.a.createElement(_.a,{icon:"plus"}))),i?r.a.createElement(Y,{isShowing:i,hide:s},r.a.createElement(R,null)):r.a.createElement("div",{className:"col-wrapper"},r.a.createElement("div",{className:"input-wrapper"},t,r.a.createElement("select",Object.assign({type:"select"},a),l),r.a.createElement("label",null,c)),r.a.createElement(A,{error:o.error,touched:o.touched}))},n.renderSubSourceLabel=function(e){return"others"===e?"":e?n.props.labelTranslations[e]:""},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.getDayPrice()}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.mainSource,a=e.subSource,c=e.amount,o=[""].concat(Object(v.a)(Object.keys(this.props.inventoryLabels))),l=n?[""].concat(Object(v.a)(this.props.inventoryLabels[n])):[""];return r.a.createElement("form",{onSubmit:t(this.props.onSubmit)},r.a.createElement("div",{className:"form-section"},r.a.createElement(E.a,{name:"mainSource",label:"\u0646\u0648\u0639 \u0645\u0646\u0628\u0639",component:this.renderSelector,options:this.getSelectOptions(o)}),r.a.createElement(E.a,{name:"subSource",label:"\u0646\u0648\u0639 ".concat(this.renderSubSourceLabel(n)),component:this.renderSelector,options:this.getSelectOptions(l)}),r.a.createElement(E.a,{name:"amount",label:"\u0645\u0642\u062f\u0627\u0631",type:"number",component:B})),r.a.createElement(V,{subSource:a,amount:c}),r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement("button",{className:"button",id:"submit-btn",type:"submit"},"\u062a\u0627\u06cc\u06cc\u062f"),r.a.createElement(P.a,{className:"button",to:"".concat("/chortkeh-client"),id:"return-btn"},"\u0628\u0627\u0632\u06af\u0634\u062a")))}}]),t}(a.Component)),M=Object(h.a)("addInventoryForm"),J=Object(O.a)({form:"addInventoryForm",validate:function(e){var t={};return e.mainSource?e.subSource?parseInt(e.amount)||(t.amount="\u0644\u0637\u0641\u0627 \u0645\u0642\u062f\u0627\u0631 \u062f\u0627\u0631\u0627\u06cc\u06cc \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"):t.subSource="\u0644\u0637\u0641\u0627 \u0645\u0646\u0628\u0639 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f":t.mainSource="\u0644\u0637\u0641\u0627 \u0645\u0646\u0628\u0639 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f",t}})(Object(l.b)((function(e){return{inventoryLabels:e.inventoryLabels,labelTranslations:e.labelTranslations,mainSource:M(e,"mainSource"),subSource:M(e,"subSource"),amount:M(e,"amount")}}),{getDayPrice:L,change:f.a})(G)),X=n(173),q=(n(330),n(331),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e,t){n.props.addToInventory(e),t(Object(f.a)("addInventoryForm","amount","")),t(Object(f.b)("addInventoryForm","amount","")),X.a.notify("\u0628\u0647 \u062f\u0627\u0631\u0627\u06cc\u06cc \u0627\u0636\u0627\u0641\u0647 \u0634\u062f",{duration:2e3})},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-page"},r.a.createElement(J,{onSubmit:this.handleSubmit,initialValues:{amount:0,mainSource:"",subSource:""}}))}}]),t}(a.Component)),W=Object(l.b)(null,{addToInventory:function(e){return function(){var t=Object(g.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"ADD_TO_INVENTORY",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(q),H=(n(332),function(){return r.a.createElement("div",{id:"no-inventory-warning"},r.a.createElement("p",null,"!\u0647\u0646\u0648\u0632 \u0686\u06cc\u0632\u06cc \u0628\u0647 \u062f\u0627\u0631\u0627\u06cc\u06cc \u0627\u0636\u0627\u0641\u0647 \u0646\u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f"))}),K=function(e){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"\u0645\u0646\u0628\u0639"),r.a.createElement("th",{scope:"col"},"\u062a\u0639\u062f\u0627\u062f"),r.a.createElement("th",{scope:"col"},"\u0642\u06cc\u0645\u062a \u0631\u0648\u0632"),r.a.createElement("th",{scope:"col"},"\u0642\u06cc\u0645\u062a \u06a9\u0644"),r.a.createElement("th",{scope:"col"})))},Q=Object(l.b)((function(e){return{inventory:e.inventoryList,todayPrices:e.allTodayPrices,labelTranslations:e.labelTranslations}}),{deleteFromInventory:function(e){return function(){var t=Object(g.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"DELETE_FROM_INVENTORY",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.inventory.map((function(t,n){var a=e.labelTranslations,c=e.todayPrices,o=e.deleteFromInventory,l=t.subSource,u=t.amount,i=c[l].Buy;return r.a.createElement("tr",{key:n},r.a.createElement("td",null,a[l]),r.a.createElement("td",null,F(u)),r.a.createElement("td",null,F(i)),r.a.createElement("td",null,F(parseInt(u)*i)),r.a.createElement("td",null,r.a.createElement("button",{className:"button table-delete-btn",onClick:function(){return o(l)}},r.a.createElement("span",null,r.a.createElement(_.a,{icon:"times"}))),r.a.createElement("button",{className:"button success table-edit-btn"},r.a.createElement("span",null,r.a.createElement(_.a,{icon:"edit"})))))}));return r.a.createElement("tbody",null,t)})),Z=function(){var e=Object(l.c)((function(e){return e.allTodayPrices})),t=Object(l.c)((function(e){return e.inventoryList})).reduce((function(t,n){return t+e[n.subSource].Buy*n.amount}),0);return r.a.createElement("span",null,F(t))},$=(n(333),function(){return r.a.createElement("table",null,r.a.createElement(K,null),r.a.createElement(Q,null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"all-value",colSpan:"2"},Z()))))}),ee=n(170),te=n(172),ne=n.n(te),ae=function(e){var t={labels:e.inventoryList.map((function(t){return e.labelTranslations[t.subSource]})),datasets:[{label:"# of Votes",data:e.inventoryList.map((function(t){return parseInt(e.allTodayPrices[t.subSource].Buy)*parseInt(t.amount)})),backgroundColor:ne()({count:6}),borderWidth:1}]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{data:t,options:{maintainAspectRatio:!1,legend:{labels:{fontSize:22}}}}))},re=(n(425),Object(l.b)((function(e){return{allTodayPrices:e.allTodayPrices,inventoryList:e.inventoryList,labelTranslations:e.labelTranslations}}),{})((function(e){return e.inventoryList.length?r.a.createElement("div",{className:"chart-page"},r.a.createElement("div",{className:"chart-container"},r.a.createElement(ae,{allTodayPrices:e.allTodayPrices,inventoryList:e.inventoryList,labelTranslations:e.labelTranslations}))):null}))),ce=(n(426),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).renderContent=function(){return n.props.inventoryList.length?r.a.createElement($,null):r.a.createElement(H,null)},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.getDayPrice();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"inventory-page"},this.renderContent(),r.a.createElement(P.a,{className:"button",id:"addInventoryLink",to:"/chortkeh-client/addInventory"},"\u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u062f\u0627\u0631\u0627\u06cc\u06cc")),r.a.createElement(re,null))}}]),t}(a.Component)),oe=Object(l.b)((function(e){return{inventoryList:e.inventoryList}}),{getDayPrice:L})(ce),le=n(61),ue=n(84);n(427);le.b.add(ue.c,ue.a,ue.b);var ie=n(164),se=n(18),me=n(85),pe=n.n(me),de=Object(u.c)({form:ie.a,inventoryLabels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={Gold:["1 Emami","1 Old Azadi","1/2 Azadi","1/4 Azadi"],Currency:["US Dollar","Euro","British Pound","Canadian Dollar"],Crypto:["BitCoin"],others:[]};if(!Object.keys(e).length)return Object(w.a)({},e,{},n);switch(t.type){case"ADD_SOURCE":return Object(w.a)({},e,{others:[].concat(Object(v.a)(e.others),[t.payload.newSourceName])});default:return e}},labelTranslations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={Gold:"\u0633\u06a9\u0647","1 Emami":"\u062a\u0645\u0627\u0645 \u0633\u06a9\u0647","1 Old Azadi":"\u062a\u0645\u0627\u0645 \u0633\u06a9\u0647 \u0637\u0631\u062d \u0642\u062f\u06cc\u0645","1/2 Azadi":"\u0646\u06cc\u0645 \u0633\u06a9\u0647","1/4 Azadi":"\u0631\u0628\u0639 \u0633\u06a9\u0647",Currency:"\u0627\u0631\u0632","US Dollar":"\u062f\u0644\u0627\u0631 \u0622\u0645\u0631\u06cc\u06a9\u0627",Euro:"\u06cc\u0648\u0631\u0648","British Pound":"\u067e\u0648\u0646\u062f \u0627\u0646\u06af\u0644\u06cc\u0633","Canadian Dollar":"\u062f\u0644\u0627\u0631 \u06a9\u0627\u0646\u0627\u062f\u0627",Crypto:"\u0627\u0631\u0632 \u062f\u06cc\u062c\u06cc\u062a\u0627\u0644",BitCoin:"\u0628\u06cc\u062a \u06a9\u0648\u06cc\u0646",others:"\u062f\u06cc\u06af\u0631 \u0645\u0646\u0627\u0628\u0639"};if(!Object.keys(e).length)return Object(w.a)({},e,{},n);switch(t.type){case"ADD_SOURCE":var a=t.payload.newSourceName;return Object(w.a)({},e,Object(se.a)({},a,a));default:return e}},allTodayPrices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DAY_PRICE":var n=pe.a.keyBy(t.payload.Currency,"Currency"),a=pe.a.keyBy(t.payload.Gold,"Coin"),r=pe.a.keyBy(t.payload.Crypto,"Currency");r.BitCoin.Buy=r.BitCoin.Buy*n["US Dollar"].Buy;var c=Object(w.a)({},e,{},n,{},a,{},r);return c;case"ADD_SOURCE":return Object(w.a)({},e,{},Object(se.a)({},t.payload.newSourceName,{Buy:parseInt(t.payload.newSourceValue)}));default:return e}},inventoryList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_INVENTORY":var n=e.find((function(e){return e.subSource===t.payload.subSource}));return n?e.map((function(e){return e.subSource===n.subSource?Object(w.a)({},e,{amount:t.payload.amount}):e})):[].concat(Object(v.a)(e),[t.payload]);case"DELETE_FROM_INVENTORY":var a=e.filter((function(e){return e.subSource!==t.payload}));return a;default:return e}}}),be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,ye=Object(u.e)(de,be(Object(u.a)(i.a)));o.a.render(r.a.createElement(l.a,{store:ye},r.a.createElement((function(){return r.a.createElement("div",{id:"app"},r.a.createElement(s.b,{history:I},r.a.createElement(s.a,{exact:!0,path:"/chortkeh-client/",component:oe}),r.a.createElement(s.a,{exact:!0,path:"/chortkeh-client/addInventory",component:W}),r.a.createElement(s.a,{exact:!0,path:"/chortkeh-client/addSource",component:R})))}),null)),document.querySelector("#root"))}},[[198,1,2]]]);
//# sourceMappingURL=main.1183b7e7.chunk.js.map